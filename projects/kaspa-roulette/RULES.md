# ğŸ° Kaspa Roulette - é–‹çè¦å‰‡

> Provably Fair è¼ªç›¤éŠæˆ²ï¼Œç”¨ Kaspa å€å¡Š hash æ±ºå®šçµæœ

## é–‹çæµç¨‹

### 1ï¸âƒ£ æ±ºå®šé–‹çé«˜åº¦

æ¯ **1000 å€‹ blueScore** é–‹ä¸€å±€ï¼š
- 372830000, 372831000, 372832000...

### 2ï¸âƒ£ å–å¾—è©²é«˜åº¦çš„æ‰€æœ‰å€å¡Š

Kaspa æ˜¯ BlockDAGï¼ŒåŒä¸€å€‹ blueScore å¯èƒ½æœ‰**å¤šå€‹å€å¡Š**åŒæ™‚å­˜åœ¨ã€‚

```
API: GET /blocks-from-bluescore?blueScore={N}&limit=20
```

### 3ï¸âƒ£ ç¢ºå®šæ€§æ’åºï¼ˆå®˜æ–¹è¦å‰‡ï¼‰

ä½¿ç”¨ Kaspa å®˜æ–¹æ’åºè¦å‰‡ï¼Œä¾†æºï¼š
`rusty-kaspa/consensus/src/processes/ghostdag/ordering.rs`

```rust
impl Ord for SortableBlock {
    fn cmp(&self, other: &Self) -> Ordering {
        self.blue_work.cmp(&other.blue_work)
            .then_with(|| self.hash.cmp(&other.hash))
    }
}
```

**æ’åºå„ªå…ˆé †åºï¼š**
1. **blueWork å¤§çš„å„ªå…ˆ**ï¼ˆç´¯ç©å·¥ä½œé‡ï¼Œ16é€²ä½æ•¸å€¼ï¼‰
2. **å¦‚æœ blueWork ç›¸åŒ â†’ hash å­—æ¯é †åºå°çš„å„ªå…ˆ**

Python å¯¦ç¾ï¼š
```python
def sort_blocks_official(blocks: list) -> list:
    """å®˜æ–¹æ’åºè¦å‰‡ï¼šblueWork é™åºï¼Œhash å‡åº"""
    return sorted(blocks, key=lambda b: (-int(b['blueWork'], 16), b['hash']))
```

### 4ï¸âƒ£ å–æ’åºå¾Œç¬¬ä¸€å€‹å€å¡Š

æ’åºå¾Œçš„ç¬¬ä¸€å€‹å€å¡Šå°±æ˜¯**é–‹çå€å¡Š**ã€‚

### 5ï¸âƒ£ è¨ˆç®—é–‹ççµæœ

```python
result = int(block_hash, 16) % 38
```

| çµæœ | å°æ‡‰ |
|------|------|
| 0 | ğŸŸ¢ ç¶  (0) |
| 1-36 | ğŸ”´ç´… æˆ– âš«é»‘ |
| 37 | ğŸŸ¢ ç¶  (00) |

### 6ï¸âƒ£ é©—è­‰

ä»»ä½•äººéƒ½å¯ä»¥ï¼š
1. æŸ¥è©¢è©² blueScore çš„æ‰€æœ‰å€å¡Š
2. ç”¨ç›¸åŒæ’åºè¦å‰‡æ’åº
3. é©—è­‰é–‹ççµæœ

Explorer: `https://explorer-tn10.kaspa.org/blocks/{hash}`

---

## ç¯„ä¾‹

**é–‹çé«˜åº¦ï¼š372830000**

```
æŸ¥è©¢çµæœï¼šæ‰¾åˆ° 2 å€‹å€å¡Š

å€å¡Š A: da8c1d73683528e68c27d6b7cc103272c6332ccdc1e19a856e2ddd175e7879ef
        blueWork: 5bb620e32b132

å€å¡Š B: faba557e4f3a2d22b637e618dbf75a39705896e663abb20c89edfae92f9f2e38
        blueWork: 5bb620e32b132

æ’åºï¼š
  blueWork ç›¸åŒ â†’ æ¯”è¼ƒ hash
  "da8c..." < "faba..." (d < f)
  â†’ å€å¡Š A å‹å‡º

é–‹çå€å¡Šï¼šda8c1d73...7879ef
çµæœï¼š0x da8c...ef mod 38 = 11
      >>> âš« é»‘(11) <<<
```

---

## è¼ªç›¤é¡è‰²å°ç…§è¡¨

```
ğŸŸ¢ 0, 00 (ç¶ )

ğŸ”´ ç´…: 1, 3, 5, 7, 9, 12, 14, 16, 18,
       19, 21, 23, 25, 27, 30, 32, 34, 36

âš« é»‘: 2, 4, 6, 8, 10, 11, 13, 15, 17,
       20, 22, 24, 26, 28, 29, 31, 33, 35
```

---

## ä¸‹æ³¨è³ ç‡

| é¡å‹ | è³ ç‡ | èªªæ˜ |
|------|------|------|
| ç´…/é»‘ | 1:1 | 18/38 æ©Ÿç‡ |
| å¥‡/å¶ | 1:1 | 18/38 æ©Ÿç‡ |
| é«˜(19-36)/ä½(1-18) | 1:1 | 18/38 æ©Ÿç‡ |
| å–®ä¸€æ•¸å­— | 35:1 | 1/38 æ©Ÿç‡ |
| 0 æˆ– 00 | 35:1 | 1/38 æ©Ÿç‡ |

---

## ç‚ºä»€éº¼æ˜¯ Provably Fairï¼Ÿ

1. **å€å¡Š hash ç„¡æ³•é æ¸¬** - æŒ–ç¤¦çµæœéš¨æ©Ÿ
2. **æ’åºè¦å‰‡å…¬é–‹é€æ˜** - ä½¿ç”¨å®˜æ–¹ Kaspa è¦å‰‡
3. **ä»»ä½•äººå¯é©—è­‰** - å€å¡Šè³‡æ–™å…¬é–‹åœ¨éˆä¸Š
4. **èŠå®¶ç„¡æ³•ä½œå¼Š** - é–‹çå‰ç„¡äººçŸ¥é“çµæœ

---

*ä½œè€…: Nami ğŸŒŠ & Ryan | 2026-02-04*
